@model NewLife.CMX.IInfo
@using XCode
@using XCode.Configuration
@using NewLife.CMX
@using NewLife.CMX.Web
@{
    var fact = ViewBag.Factory as IEntityOperate;
    var fields = ViewBag.Fields as List<FieldItem>;
    var entity = Model as IEntity;
    var isNew = entity.IsNullKey;

    var inf = Model as IInfo;
}
<div class="form-group col-xs-12">
    <label class="control-label col-xs-2 col-md-2">标题</label>
    <div class="col-xs-10 col-sm-8 col-md-9 col-lg-6">
        @Html.ForEditor("Title", inf.Title, typeof(String))
    </div>
    &nbsp;
    @if (!isNew)
    {
        <div class="col-md-1">
            <a href="@this.GetUrl(inf)" target="_blank">
                预览
            </a>
        </div>
    }
</div>
<div class="form-group col-sm-12 col-md-6">
    <label class="control-label col-sm-2 col-md-4">分类</label>
    <div class="col-sm-4 col-md-4">
        @{
            var data = new SelectList(Category.Root.AllChilds, "ID", "TreeNodeText", inf.CategoryID);
        }
        @Html.DropDownList("CategoryID", data, new { @class = "multiselect" })
    </div>
    <div class="col-sm-4 col-md-4">
        <label class="control-label">访问量</label>
        <span>@inf.Views</span>
        <label class="control-label">版本</label>
        <span>@inf.Version</span>
    </div>
</div>
<div class="form-group col-sm-12 col-md-6">
    <label class="control-label col-xs-2 col-md-2">编码</label>
    <div class="col-xs-7 col-md-4">
        @Html.ForEditor("Code", inf.Code, typeof(String))
    </div>
</div>
