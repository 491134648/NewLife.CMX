@model NewLife.CMX.IInfo
@using XCode
@using XCode.Configuration
@using NewLife.CMX
@using NewLife.CMX.Web
@{
    var fact = ViewBag.Factory as IEntityOperate;
    var fields = ViewBag.Fields as List<FieldItem>;
    var entity = Model as IEntity;
    var isNew = entity.IsNullKey;

    var inf = Model as IInfo;
}
<div class="form-group">
    <label class="control-label col-md-2">标题</label>
    <div class="input-group col-xs-12 col-sm-8 col-md-6 col-lg-4">
        @Html.ForEditor("Title", inf.Title, typeof(String))
        &nbsp;
        @if (!isNew)
        {
            <a href="@this.GetUrl(inf)" target="_blank">
                预览
            </a>
        }
    </div>
</div>
<div class="form-group">
    <label class="control-label col-md-2">分类</label>
    <div class="col-md-2">
        @{
            var data = new SelectList(Category.Root.AllChilds, "ID", "TreeNodeText", inf.CategoryID);
        }
        @Html.DropDownList("CategoryID", data, new { @class = "multiselect" })
    </div>
    <div class="col-md-3">
        <label class="control-label col-md-4">编码</label>
        <div class="col-md-8">
            @Html.ForEditor("Code", inf.Code, typeof(String))
        </div>
    </div>
    <div class="col-md-3">
        <label class="control-label">访问量</label>
        <span>@inf.Views</span>
        <label class="control-label">版本</label>
        <span>@inf.Version</span>
    </div>
</div>